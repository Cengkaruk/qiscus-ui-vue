<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>qiscus-sdk-vue</title>
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
    <style>
      *, *:before, *:after { box-sizing: border-box; }
      html, body { width: 100%; height: 100%; overflow: hidden; padding: 0; margin: 0; }
      body { background: linear-gradient(to top, #30cfd0 0%, #330867 100%); }
    </style>
  </head>
  <body>
    <div id="qiscus-widget"></div>
    <!-- built files will be auto injected -->
    <script>
      $(function(){
        var url_string = window.location.href;
        var url = new URL(url_string);
        var curUser = url.searchParams.get("login_as");
        var targetUser = url.searchParams.get("target") || 'guest@qiscus.com';
        // let's setup options for our widget
        QiscusSDK.core.init({
          AppId: 'sdksample',
          // mode: 'wide',
          options: {
            // When we're success login into qiscus SDK we'll have a 1-on-1 chat to guest2@qiscus.com
            // You can change this to any user you have on your AppId, e.g: contact@your_company.com, etc
            loginSuccessCallback(data) { 
              QiscusSDK.core.UI.chatTarget(targetUser) 
              // load Room List
              // loadRoomList();

              // Join Qiscus AOV Room
              // QiscusSDK.core.getOrCreateRoomByUniqueId('Qiscus AOV');
            },
          }
        });
        // login to qiscus
        // QiscusSDK.core.setUser('amsibsam@qiscus.com', 'password', 'Bisma Rahardian', 'https://d1edrlpyc25xu0.cloudfront.net/kiwari-prod/image/upload/s322Ji9RLe/1507605762-Rubick_icon.png');
        // QiscusSDK.core.setUser('juang@qiscus.com', 'password', 'Ashari Juang', 'https://d1edrlpyc25xu0.cloudfront.net/kiwari-prod/image/upload/BTDIXHEr9u/1507605766-Timbersaw_icon.png');
        if(curUser){
          QiscusSDK.core.setUser('guest@qiscus.com', 'password', 'Qiscus Guest', 'https://d1edrlpyc25xu0.cloudfront.net/kiwari-prod/image/upload/s322Ji9RLe/1507605762-Rubick_icon.png');
        } else {
          QiscusSDK.core.setUser('fikri@qiscus.com', 'password', 'Rijalul Fikri', 'https://d1edrlpyc25xu0.cloudfront.net/kiwari-prod/image/upload/ixIrQHwz2w/1507605797-Lifestealer_icon.png');
        }
        // QiscusSDK.core.setUser('rajapulau@qiscus.com', 'password', 'Ganjar Widyatmansyah', 'https://d1edrlpyc25xu0.cloudfront.net/kiwari-prod/image/upload/swD5H65c89/1507605880-Ogre_Magi_icon.png');
        // QiscusSDK.core.setUser('arief@qiscus.com', 'password', 'Arief Nur', 'https://d1edrlpyc25xu0.cloudfront.net/kiwari-prod/image/upload/0AlS8O2rr_/1507606591-Lina_icon.png');
        // QiscusSDK.core.setUser('sunu@qiscus.com', 'password', 'Sunu PF', 'https://d1edrlpyc25xu0.cloudfront.net/kiwari-prod/image/upload/6nsJ-eS_nd/1507605872-Animal_Courier_(Radiant)_icon.png');
        // render the widget
        QiscusSDK.render();
      })
    </script>
  </body>
</html>
